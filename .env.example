# 微信公众号 MCP 服务器环境变量配置示例
# 复制此文件为 .env 并填入实际配置值
# 
# 参数说明：
# 🔥 = 必需参数    ⚙️ = 可选参数    📋 = 预留参数（当前版本未使用）
# 最小配置只需要：MCP_TRANSPORT, WECHAT_APP_ID, WECHAT_APP_SECRET

# ============================================
# 🔥 MCP基础配置（必需）
# ============================================
MCP_TRANSPORT=http      # 传输协议选择：stdio/http/sse
MCP_HOST=0.0.0.0       # HTTP服务器绑定地址（可选，有默认值）
MCP_PORT=3003          # HTTP服务器端口（可选，有默认值）

# ============================================
# ⚙️ 静态网页服务器配置（可选）
# ============================================
CONTEXT_PATH=/webchat-oa # 静态网页服务上下文路径（可选，默认/static_pages）
STATIC_PAGE_PORT=3004  # 静态网页HTTP服务器端口（可选，默认3004）

# ============================================
# 🔥 微信公众号基础配置（必需）
# ============================================
WECHAT_APP_ID=your_app_id           # 🔥 微信公众号AppID（必需）
WECHAT_APP_SECRET=your_app_secret   # 🔥 微信公众号AppSecret（必需）
WECHAT_TOKEN=your_wechat_token      # 🔥 微信服务器验证Token（必需）
WECHAT_ENCODING_AES_KEY=your_encoding_aes_key  # 📋 消息加解密密钥（预留：当前版本未使用）

# ============================================
# 📋 Docker服务控制（预留：当前版本未使用）
# ============================================
# 控制启动哪些服务，通过 docker-compose --profile 参数控制
# 仅启动消息服务器: docker-compose --profile server up -d
# 仅启动 MCP 服务器: docker-compose --profile mcp up -d
# 同时启动两个服务: docker-compose --profile mcp --profile server up -d
ENABLE_MCP=false          # 📋 是否启用 MCP 服务器（true/false）
ENABLE_SERVER=true        # 📋 是否启用消息服务器（true/false，默认 true）

# ============================================
# 📋 消息服务器配置（预留：当前版本未使用）
# ============================================
# 端口配置
# - 开发环境: 3003
# - 生产环境: 80 (HTTP) 或 443 (HTTPS)
WECHAT_SERVER_PORT=80   # 📋 服务器端口
WECHAT_SERVER_HOST=0.0.0.0  # 📋 监听地址

# Docker 网络模式配置
# - bridge: 桥接模式（默认），适用于开发环境，使用端口映射
# - host: 主机网络模式，适用于生产环境 80/443 端口，直接使用主机网络
NETWORK_MODE=bridge       # 📋 Docker 网络模式：bridge 或 host

# ============================================
# 📋 HTTPS配置（预留：当前版本未使用）
# ============================================
# WECHAT_SSL_CERT=/app/ssl/cert.pem    # 📋 SSL证书路径
# WECHAT_SSL_KEY=/app/ssl/key.pem      # 📋 SSL私钥路径

# ============================================
# 📋 消息处理配置（预留：当前版本未使用）
# ============================================
WECHAT_TIMEOUT_MESSAGE=内容生成耗时较长，请稍等...      # 📋 消息超时提示
WECHAT_RETRY_WAIT_TIMEOUT_RATIO=0.7                   # 📋 重试等待比例
WECHAT_ENABLE_CUSTOM_MESSAGE=false                     # 📋 自定义消息开关
WECHAT_CONTINUE_WAITING_MESSAGE=生成答复中，继续等待请回复1  # 📋 继续等待提示
WECHAT_MAX_CONTINUE_COUNT=2                           # 📋 最大继续次数

# ============================================
# 🤖 OpenAI AI服务配置（AI智能聊天功能）
# ============================================
OPENAI_API_KEY=your_openai_api_key          # OpenAI API密钥
OPENAI_MODEL=gpt-3.5-turbo                  # OpenAI模型选择
OPENAI_MAX_TOKENS=1000                      # 最大token数量
OPENAI_TEMPERATURE=0.7                      # 回复创造性（0.0-2.0）
OPENAI_TIMEOUT=30                           # API超时时间（秒）
OPENAI_INTERACTION_MODE=stream                  # AI交互模式：stream（流式）或block（阻塞）
OPENAI_STREAM_TIMEOUT_PROMPT=\n\n（内容未完全生成，后续回复将继续完善） # 流式模式超时提示语
WECHAT_AI_TIMEOUT=4.5                       # 公众号接口AI回复超时时间（秒），页面访问不设置超时

# 聊天界面配置密码（用于保护配置功能）
CONFIG_PASSWORD=your_config_password_here                       # 公众号接口AI回复超时时间（秒），页面访问不设置超时

# ============================================
# 📋 Dify AI集成（预留：当前版本未使用）
# ============================================
DIFY_API_KEY=your_dify_api_key    # 📋 Dify API密钥
DIFY_APP_ID=your_dify_app_id      # 📋 Dify应用ID
DIFY_BASE_URL=https://api.dify.ai/v1 # 📋 Dify基础URL

# ============================================
# 📋 微信API配置（预留：当前版本未使用）
# ============================================
WECHAT_API_PROXY=api.weixin.qq.com  # 📋 微信API代理
WECHAT_API_TIMEOUT=30               # 📋 API超时时间