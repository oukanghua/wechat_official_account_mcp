# 微信公众号 MCP 服务器环境变量配置示例
# 复制此文件为 .env 并填入实际配置值
# 
# 参数说明：
# 🔥 = 必需参数    ⚙️ = 可选参数    📋 = 预留参数（当前版本未使用）
# 最小配置只需要：MCP_TRANSPORT, WECHAT_APP_ID, WECHAT_APP_SECRET
# ============================================
# 🔥 MCP基础配置（必需）
# ============================================
MCP_ENABLE=true        # 是否启用MCP服务（可选，默认True）
MCP_TRANSPORT=http      # 传输协议选择：stdio/http/sse
MCP_HOST=0.0.0.0       # Web服务器绑定地址（可选，有默认值）
MCP_PORT=3003          # Web服务器端口（可选，有默认值）
# ============================================
# ⚙️ Web服务器/消息服务配置（必需）
# ============================================
# 端口配置
# - 开发环境: 3003
# - 生产环境: 80 (HTTP) 或 443 (HTTPS)
WECHAT_MSG_SERVER_ENABLE=true  # 是否启用微信消息服务（可选，默认True）
WECHAT_MSG_SERVER_PORT=80   # 📋 服务器端口
WECHAT_MSG_SERVER_HOST=0.0.0.0  # 📋 监听地址
WECHAT_MSG_CONTEXT_PATH=/wechat-oa # 静态网页服务上下文路径（可选，默认/）
WECHAT_MSG_AI_TIMEOUT=15                      # 公众号接口回复超时（秒），微信是1请求+3重试机制，每次重试间隔5秒，因此最多20秒
WECHAT_MSG_AI_TIMEOUT_PROMPT="\n--内容未完全生成，请访问http://ip:port/wechat-oa/chat" # 流式模式超时提示语
WECHAT_MSG_AI_LEN_LIMIT=600                   # 公众号接口AI回复长度限制（字符数）
WECHAT_MSG_AI_CACHE_TIME=60                  # 公众号接口AI回复缓存时间（秒）
WECHAT_MSG_AI_CACHE_SIZE=100                  # 公众号接口AI回复缓存大小（条）
WECHAT_OFFICIAL_API_URL=https://api.weixin.qq.com  # 微信服务端API基础URL

# ============================================
# 🤖 OpenAI AI服务配置（AI智能聊天功能）
# ============================================
OPENAI_API_KEY=your_openai_api_key          # OpenAI API密钥
OPENAI_MODEL=gpt-3.5-turbo                  # OpenAI模型选择
OPENAI_MAX_TOKENS=40000                      # 最大token数量
OPENAI_TEMPERATURE=0.7                      # 回复创造性（0.0-2.0）
OPENAI_TIMEOUT=300                        # API超时时间（秒）
OPENAI_INTERACTION_MODE=stream                  # AI交互模式：stream（流式）或block（阻塞）
OPENAI_PROMPT="你是一个专业的热点资讯分析师，专注于实时追踪、深度解析和前瞻预测全球范围内的热点新闻事件，当前任务是简洁快速回复公众号用户的问题。"
# 聊天界面配置密码（用于保护配置功能）
OPENAI_CONFIG_PASSWORD=your_config_password_here     
# ============================================
# 🔥 微信公众号基础配置
# ============================================
WECHAT_APP_ID=your_app_id           # 🔥 微信公众号AppID（必需）
WECHAT_APP_SECRET=your_app_secret   # 🔥 微信公众号AppSecret（必需）
# ============================================
# 🔥 微信公众号【消息推送】配置
# ============================================
WECHAT_TOKEN=your_wechat_token      # 🔥 微信服务【消息推送】验证Token（必需）
WECHAT_ENCODING_AES_KEY=your_encoding_aes_key  # 📋 消息加解密密钥【消息推送】（预留：当前版本未使用）
# ============================================
# Docker 网络模式配置
# - bridge: 桥接模式（默认），适用于开发环境，使用端口映射
# - host: 主机网络模式，适用于生产环境 80/443 端口，直接使用主机网络
NETWORK_MODE=bridge       # 📋 Docker 网络模式：bridge 或 host







# ============================================
# 📋 HTTPS配置（预留：当前版本未使用）
# ============================================
# WECHAT_SSL_CERT=/app/ssl/cert.pem    # 📋 SSL证书路径
# WECHAT_SSL_KEY=/app/ssl/key.pem      # 📋 SSL私钥路径

# ============================================
# 📋 消息处理配置（预留：当前版本未使用）
# ============================================
WECHAT_TIMEOUT_MESSAGE=内容生成耗时较长，请稍等...      # 📋 消息超时提示
WECHAT_RETRY_WAIT_TIMEOUT_RATIO=0.7                   # 📋 重试等待比例
WECHAT_ENABLE_CUSTOM_MESSAGE=false                     # 📋 自定义消息开关
WECHAT_CONTINUE_WAITING_MESSAGE=生成答复中，继续等待请回复1  # 📋 继续等待提示
WECHAT_MAX_CONTINUE_COUNT=2                           # 📋 最大继续次数