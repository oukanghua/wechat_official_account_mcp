# 微信公众号 MCP 服务器环境变量配置示例
# 复制此文件为 .env 并填入实际配置值

# ============================================
# 微信公众号基础配置（必需）
# ============================================
WECHAT_APP_ID=your_app_id
WECHAT_APP_SECRET=your_app_secret
WECHAT_TOKEN=your_token
WECHAT_ENCODING_AES_KEY=your_encoding_aes_key  # 可选，用于消息加解密

# ============================================
# Docker 服务控制（Docker 部署时使用）
# ============================================
# 控制启动哪些服务，通过 docker-compose --profile 参数控制
# 仅启动消息服务器: docker-compose --profile server up -d
# 仅启动 MCP 服务器: docker-compose --profile mcp up -d
# 同时启动两个服务: docker-compose --profile mcp --profile server up -d
ENABLE_MCP=false          # 是否启用 MCP 服务器（true/false）
ENABLE_SERVER=true        # 是否启用消息服务器（true/false，默认 true）

# ============================================
# 消息服务器配置
# ============================================
# 端口配置
# - 开发环境: 8000
# - 生产环境: 80 (HTTP) 或 443 (HTTPS)
WECHAT_SERVER_PORT=80   # 服务器端口
WECHAT_SERVER_HOST=0.0.0.0  # 监听地址

# Docker 网络模式配置
# - bridge: 桥接模式（默认），适用于开发环境，使用端口映射
# - host: 主机网络模式，适用于生产环境 80/443 端口，直接使用主机网络
NETWORK_MODE=bridge       # Docker 网络模式：bridge 或 host

# ============================================
# HTTPS 配置（使用 443 端口时需要）
# ============================================
# WECHAT_SSL_CERT=/app/ssl/cert.pem
# WECHAT_SSL_KEY=/app/ssl/key.pem

# ============================================
# 消息处理配置（可选）
# ============================================
WECHAT_TIMEOUT_MESSAGE=内容生成耗时较长，请稍等...
WECHAT_RETRY_WAIT_TIMEOUT_RATIO=0.7
WECHAT_ENABLE_CUSTOM_MESSAGE=false
WECHAT_CONTINUE_WAITING_MESSAGE=生成答复中，继续等待请回复1
WECHAT_MAX_CONTINUE_COUNT=2

# ============================================
# Dify AI 集成（可选）
# ============================================
DIFY_API_KEY=your_dify_api_key
DIFY_APP_ID=your_dify_app_id
DIFY_BASE_URL=https://api.dify.ai/v1

# ============================================
# 微信 API 配置（可选）
# ============================================
WECHAT_API_PROXY=api.weixin.qq.com
WECHAT_API_TIMEOUT=30